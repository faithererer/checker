<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Key 有效性批量检测</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <h1>API Key 有效性批量检测</h1>

        <div class="settings-group">
            <h2>自定义设置 (支持OpenAI格式标准接口)</h2>
            <div class="input-row">
                <label for="apiProviderSelector">API 提供商:</label>
                <select id="apiProviderSelector">
                    <option value="https://api.openai.com/v1">OpenAI</option>
                    <option value="https://generativelanguage.googleapis.com/v1beta/openai/" selected>Google (Gemini)</option>
                    <option value="custom">自定义</option>
                </select>
            </div>
            <div class="input-row">
                <label for="apiBaseUrl">API 地址:</label>
                <input type="text" id="apiBaseUrl" value="https://generativelanguage.googleapis.com/v1beta/openai/">
            </div>
            <div class="input-row">
                <label for="testModel">测试模型:</label>
                <input type="text" id="testModel" value="gemini-2.0-flash-lite">
            </div>
            <div class="input-row">
                <label for="concurrentRequests">并发数:</label>
                <input type="number" id="concurrentRequests" value="5" min="1" max="20">
            </div>
            <div class="input-row">
                <label for="retryCount">重试次数:</label>
                <input type="number" id="retryCount" value="3" min="0" max="10">
            </div>
        </div>
        
        <div id="status-panel" class="status-panel" style="display: none;">
            <div class="status-item">总数: <span id="status-total">0</span></div>
            <div class="status-item">待检测: <span id="status-pending">0</span></div>
            <div class="status-item status-valid">有效: <span id="status-valid-count">0</span></div>
            <div class="status-item status-quota">额度用尽: <span id="status-quota-count">0</span></div>
            <div class="status-item status-project-quota">项目配额: <span id="status-project-quota-count">0</span></div>
            <div class="status-item status-suspended">禁用: <span id="status-suspended-count">0</span></div>
            <div class="status-item status-invalid">无效: <span id="status-invalid-count">0</span></div>
            <div class="status-item status-unknown">其他: <span id="status-unknown-count">0</span></div>
            <div class="status-item status-retry">重试中: <span id="status-retries">0</span></div>
        </div>

        <textarea id="tokens" placeholder="请输入 API Key，支持每行一个或用逗号/空格分隔"></textarea>
        <button id="checkButton">开始检测</button>
        
        <div class="results-layout" id="results-layout" style="display: none;">
            <div class="sidebar" id="sidebar">
                <!-- 导航项将由JS动态生成 -->
            </div>
            <div class="content-area" id="content-area">
                <!-- 内容将由JS动态生成 -->
            </div>
        </div>
    </div>

    <script src="scripts/utils.js"></script>
    <script src="scripts/ui.js"></script>
    <script src="scripts/main.js"></script>
</body>

</html>
